<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.linrol.tool</id>
    <name>77tool</name>
    <version>1.0.6</version>
    <vendor email="linrol@gmail.com" url="https://github.com/linrol/77tool">LuoLin</vendor>

    <!-- The description will replace by gradle's generated from README.md -->
    <description><![CDATA[ 77tool for branch. support branch quick created mr、delete local branch an more]]></description>

    <change-notes><![CDATA[
    <b>2.3 Change Log:</b><br>
    <li>Fix throw exception when select empty files</li>
    <li>Disable the OK button when select empty files</li>
    <br>
    <b>2.2 Change Log:</b><br>
    <li>List the select files in export setting dialog and can re-select them</li>
    <li>Add copy to clipboard and show jar file in system explorer actions in notifications</li>
    <br>
    <b>2.1 Change Log:</b><br>
    <li>fix NullPointException in 2021.1</li>
    <br>
    <b>2.0 Change Log:</b><br>
    <li>change open api usage to be compatible with 2020.3 versions</li>
    <br>
    <b>1.5.1 Change Log:</b><br>
	<li>change open api usage to be compatible with coming 2020 versions</li>
	<br>
    <b>1.5 Change Log:</b><br>
	<li>supports export jar from local changes like create patch</li>
	<li><b>add extent action in VCS menu, Version Control Local Changes pop menu and Commit Changes dialog commit button group</b></li>
	<li>improve compatibility with new version IDEA</li>
	<li><b>NOTES: export local changes not include un-version-control changes </b></li>
	<br>
	<b>1.4 Change Log:</b><br>
	<li>add module dependencies in plugin.xml conform to Jetbrains plugin rule.</li>
	<br>
	<b>1.3 Change Log:</b><br>
	<li>data collection announcement: <b>This plugin do not collect any personal data then transferring to outside.</b></li>
	<li>bug fix: throw null point exception when inputted jar file not including parent path (i.e. would export to current working directory)</li>
	<li>ui experience improve: e.g. pop dialog can be resize</li>
	<br>
	<b>1.2 Change Log:</b><br>
	<li>switch json lib from jackson to gson (already included by platform dependencies)</li>
	<li>list export jar history in combobox for select</li>
	<br>
	<b>1.1 Change Log:</b><br>
	<li>fix throw IllegalArgumentException in earlier than version 2018.3</li>
	<li>extend support version scope: compatible with 2017.3 and later</li>
	<li>support community edition</li>
	<li>add jackson external dependency</li>
	<li>ui little improvement</li>
	<br>
    <b>1.0 Features:</b><br>
    <li>Quick and Handy export</li>
    <li>Supports export java, class, resource file in java project classpath and their compiled output directories</li>
    <li>Supports single file or multi-files selection for export</li>
    <li>Supports different scopes export: class, package, module, project</li>
    <li>Supports cross modules export (no duplication selected)</li>
    <li>Supports export files in test directory</li>
    <li>Supports custom setting export file type</li>
    ]]>
    </change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.vcs</depends>
    <depends>Git4Idea</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <toolWindow id="77tool" canCloseContents="false" anchor="bottom"
                    factoryClass="com.linrol.cn.tool.toolwindow.MslToolWindowFactory"/>

        <vcs.changes.localCommitExecutor implementation="com.linrol.cn.tool.branch.mr.GitCommitMrExecutor"/>

        <!--<pushDialogActionsProvider implementation="com.linrol.cn.tool.branch.extension.MergeExtensionAction"/>-->
    </extensions>
    <actions>
        <group id="com.linrol.cn.tool.77toolGroup" text="77tool" popup="true">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="com.linrol.cn.tool.branch.mr.GitCommitMrAction"/>
        </group>

        <action id="com.linrol.cn.tool.branch.mr.GitCommitMrAction" class="com.linrol.cn.tool.branch.mr.GitCommitMrAction"
                text="Commit And Merge Request"
                description="Commit And create merge request"
                icon="CollaborationToolsIcons.PullRequestOpen">
            <add-to-group group-id="com.linrol.cn.tool.77toolGroup" anchor="last"/>
            <add-to-group group-id="VcsNavBarToolbarActions" anchor="before" relative-to-action="Vcs.ShowTabbedFileHistory" />
            <add-to-group group-id="Git.MainMenu" anchor="before" relative-to-action="Vcs.Push"/>
            <add-to-group group-id="GitRepositoryActions" anchor="before" relative-to-action="Vcs.Push"/>

        </action>

        <action id="com.linrol.cn.tool.branch.mr.GitMergeRequestAction" class="com.linrol.cn.tool.branch.mr.GitMergeRequestAction" text="Merge Request"
          description="Create Merge request">
            <add-to-group group-id="com.linrol.cn.tool.77toolGroup" anchor="before" relative-to-action="com.linrol.cn.tool.branch.mr.GitCommitMrAction"/>
            <add-to-group group-id="Vcs.Push.Actions" anchor="after" relative-to-action="Vcs.Push.Force"/>
        </action>

<!--    <action id="mr" class="com.linrol.cn.tool.branch.mr.CommitMrActionxt="Create Merge Request" description="Create merge request To current branch">-->
<!--        <add-to-group group-id="com.linrol.cn.tool.77toolGroup" anchor="first"/>-->
<!--    </action>-->
<!--    <action id="checkout" class="com.linrol.cn.tool.branch.CheckOutAction" text="Checkout Branch" description="Checkout common branch and close git manage">-->
<!--        <add-to-group group-id="com.linrol.cn.tool.77toolGroup" anchor="last"/>-->
<!--    </action>-->

    </actions>
</idea-plugin>